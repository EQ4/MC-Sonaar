#N canvas 553 77 932 448 10;
#X obj 5 361 dac~;
#X msg 21 171 stop;
#X msg 14 149 bang;
#X obj 10 24 soundfiler;
#N canvas 0 22 450 278 (subpatch) 0;
#X array sample 767488 float 2;
#X coords 0 1 767488 -1 100 70 1;
#X restore 10 64 graph;
#X obj 10 -61 loadbang;
#X obj 14 200 tabplay~ sample;
#X obj 32 267 hsl 128 15 0 1 0 1 empty empty empty -2 -8 0 10 -262144
-1 -1 3300 1;
#X obj 29 308 line~;
#X msg 29 287 \$1 10;
#X obj 14 329 *~;
#X text 30 249 direct out;
#X obj 21 228 s~ input;
#X obj 101 220 spigot;
#X obj 134 199 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X text 151 198 loop;
#X msg 10 0 read -resize ./onsets.wav sample;
#X msg 17 -40 \; pd dsp 1;
#X text 48 146 press bang to play audio;
#X obj 262 94 cnv 15 430 200 empty empty empty 20 12 0 14 -258113 -66577
0;
#X obj 228 -46 r~ input;
#X floatatom 265 98 5 0 0 0 - - -;
#X obj 265 119 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 265 50 route list;
#X obj 525 50 route list;
#X floatatom 525 99 5 0 0 0 - - -;
#X obj 525 75 route onset_strength;
#X obj 525 119 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 655 50 route list;
#X floatatom 655 99 5 0 0 0 - - -;
#X obj 655 75 route onset_strength;
#X obj 655 119 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 395 50 route list;
#X floatatom 395 99 5 0 0 0 - - -;
#X obj 395 75 route onset_strength;
#X obj 395 119 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 265 75 route onset_strength;
#X obj 228 25 essentiaRT~ 2;
#X obj 358 25 essentiaRT~ 2;
#X obj 488 25 essentiaRT~ 2;
#X obj 618 25 essentiaRT~ 2;
#X text 269 217 The algorithm should recognize the 100% of the onsets
which such simple test sample. Am I wrong?;
#X text 269 257 Lowering the threshold improves a bit the results \,
but still problematic.;
#X obj 618 1 z~ 2048;
#X text 667 -1 <<--delay input signal by 2048 samps.;
#X text 269 197 Which of the results should we take into account?;
#X text 269 147 Why do the results differ between the first object
(first instance) and the others? when input signal is delayed 2048
samples \, the result equals that of the 1st instance...;
#X connect 1 0 6 0;
#X connect 2 0 6 0;
#X connect 5 0 16 0;
#X connect 5 0 17 0;
#X connect 6 0 10 0;
#X connect 6 0 12 0;
#X connect 6 1 13 0;
#X connect 7 0 9 0;
#X connect 8 0 10 1;
#X connect 9 0 8 0;
#X connect 10 0 0 0;
#X connect 10 0 0 1;
#X connect 13 0 6 0;
#X connect 14 0 13 1;
#X connect 16 0 3 0;
#X connect 20 0 37 0;
#X connect 20 0 38 0;
#X connect 20 0 39 0;
#X connect 20 0 43 0;
#X connect 21 0 22 0;
#X connect 23 0 36 0;
#X connect 24 0 26 0;
#X connect 25 0 27 0;
#X connect 26 0 25 0;
#X connect 28 0 30 0;
#X connect 29 0 31 0;
#X connect 30 0 29 0;
#X connect 32 0 34 0;
#X connect 33 0 35 0;
#X connect 34 0 33 0;
#X connect 36 0 21 0;
#X connect 37 1 23 0;
#X connect 38 1 32 0;
#X connect 39 1 24 0;
#X connect 40 1 28 0;
#X connect 43 0 40 0;
