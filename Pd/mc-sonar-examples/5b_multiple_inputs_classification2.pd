#N canvas 22 23 1837 920 10;
#X declare -path ../essentiaRT~ -path ../utils -path ../ibt_pd;
#X obj -224 -279 catch~ slices;
#X text -203 -429 ...assuming externals are in parent folder...;
#X text -204 -363 This example attempts some simple classification
on the detected onsets. It stores the onset strenghts in a list synched
with the onset times \, so we can tweak the playback with the classifier
values. In this example \, only the strongest onset of the list is
played-back.;
#X obj -203 -408 declare -path ../essentiaRT~ -path ../utils -path
../ibt_pd;
#N canvas 71 507 692 360 inputs 0;
#X msg -234 -262 station \$1;
#X floatatom -234 -283 5 0 7 0 - - -;
#X text -196 -284 pick a radio station (0-7);
#X obj -234 -238 radioin 0;
#X symbolatom -183 -215 40 0 0 0 - - -;
#X msg -234 -82 station \$1;
#X floatatom -234 -103 5 0 7 0 - - -;
#X text -196 -104 pick a radio station (0-7);
#X symbolatom -183 -35 40 0 0 0 - - -;
#X msg 116 -262 station \$1;
#X floatatom 116 -283 5 0 7 0 - - -;
#X text 154 -284 pick a radio station (0-7);
#X symbolatom 167 -215 40 0 0 0 - - -;
#X msg 116 -82 station \$1;
#X floatatom 116 -103 5 0 7 0 - - -;
#X text 154 -104 pick a radio station (0-7);
#X symbolatom 167 -35 40 0 0 0 - - -;
#X obj 116 -156 s~ input2;
#X obj 116 24 s~ input4;
#X obj -234 24 s~ input3;
#X obj -234 -156 s~ input1;
#X obj -224 -180 delwrite~ deline1 10000;
#X obj -224 0 delwrite~ deline3 10000;
#X obj 126 0 delwrite~ deline4 10000;
#X obj 126 -180 delwrite~ deline2 10000;
#X obj 116 -238 radioin 2;
#X obj 116 -58 radioin 6;
#X obj -234 -58 radioin 5;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 3 0 20 0;
#X connect 3 0 21 0;
#X connect 3 2 4 0;
#X connect 5 0 27 0;
#X connect 6 0 5 0;
#X connect 9 0 25 0;
#X connect 10 0 9 0;
#X connect 13 0 26 0;
#X connect 14 0 13 0;
#X connect 25 0 17 0;
#X connect 25 0 24 0;
#X connect 25 2 12 0;
#X connect 26 0 18 0;
#X connect 26 0 23 0;
#X connect 26 2 16 0;
#X connect 27 0 19 0;
#X connect 27 0 22 0;
#X connect 27 2 8 0;
#X restore -337 -459 pd inputs;
#N canvas 430 274 281 364 direct_outs 0;
#X obj 9 29 r~ input1;
#X obj 25 241 line~;
#X obj 10 264 *~;
#X obj 24 73 vsl 15 100 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 6090 1;
#X obj 25 193 *;
#X msg 25 218 \$1 20;
#X obj 92 241 line~;
#X obj 77 264 *~;
#X obj 54 73 vsl 15 100 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 7090 1;
#X obj 92 193 *;
#X msg 92 218 \$1 20;
#X obj 152 241 line~;
#X obj 137 264 *~;
#X obj 86 73 vsl 15 100 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 6690 1;
#X obj 152 193 *;
#X msg 152 218 \$1 20;
#X obj 212 241 line~;
#X obj 197 264 *~;
#X obj 116 73 vsl 15 100 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 6990 1;
#X obj 212 193 *;
#X msg 212 218 \$1 20;
#X obj 196 29 r~ input4;
#X obj 136 29 r~ input3;
#X obj 76 29 r~ input2;
#X obj 101 310 +~;
#X obj 101 331 outlet~;
#X text 27 71 1;
#X text 59 71 2;
#X text 89 71 3;
#X text 118 71 4;
#X obj 217 78 loadbang;
#X msg 217 101 0.1;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 24 0;
#X connect 3 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 6 0 7 1;
#X connect 7 0 24 0;
#X connect 8 0 9 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X connect 11 0 12 1;
#X connect 12 0 24 0;
#X connect 13 0 14 1;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 11 0;
#X connect 16 0 17 1;
#X connect 17 0 24 0;
#X connect 18 0 19 1;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 16 0;
#X connect 21 0 17 0;
#X connect 22 0 12 0;
#X connect 23 0 7 0;
#X connect 24 0 25 0;
#X connect 30 0 31 0;
#X connect 31 0 18 0;
#X connect 31 0 13 0;
#X connect 31 0 8 0;
#X connect 31 0 3 0;
#X coords 0 -1 1 1 120 130 1 20 50;
#X restore -337 -417 pd direct_outs;
#X obj -310 -205 cnv 15 160 50 empty empty empty 20 12 0 14 -261234
-66577 0;
#X obj -305 -200 output~;
#X obj -337 -256 xfade~;
#X text -237 -197 (1) DSP on;
#X text -232 -180 & Volume Up;
#X text -206 -377 =========================;
#X obj 166 -115 timer;
#X obj 245 106 +;
#X obj 242 18 list split;
#X obj 270 85 sum;
#X obj 242 -148 list;
#X obj 236 -174 t b l;
#X obj 157 -352 delay;
#X obj 279 63 s newEvent;
#X obj 157 -375 r newEvent;
#X obj 279 41 list split 1;
#X obj 245 128 trapenv 2;
#X obj 350 303 throw~ slices;
#X obj 350 145 demux~ 1 2 3 4;
#X obj 404 248 *~;
#X obj 419 222 delread~ deline3;
#X obj 431 270 *~;
#X obj 446 248 delread~ deline4;
#X obj 350 198 *~;
#X obj 377 220 *~;
#X obj 234 -373 ibt_pd;
#X text 277 -374 <- bpm estimation;
#X floatatom 267 -352 5 0 0 0 - - -;
#X obj 234 -395 r~ input1;
#X msg 234 -416 set input\$1;
#X obj 234 -331 prepend 1;
#X obj 157 -330 prepend 0;
#X obj 225 -273 route;
#X obj 365 175 delread~ deline1;
#X obj 392 198 delread~ deline2;
#X obj 202 -256 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 236 -195 r iots;
#X obj 262 -274 sel 0;
#X obj 262 -253 s newEvent;
#X obj 248 -308 cnv 15 320 30 empty empty empty 20 12 0 14 -204786
-66577 0;
#X obj 252 -299 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
1 1;
#X text 270 -307 trigger slices according to length of events (0);
#X text 270 -293 or to tempo of one of the sources (1);
#X obj 231 -442 cnv 15 340 22 empty empty empty 20 12 0 14 -204786
-66577 0;
#X floatatom 234 -437 5 1 4 0 - - -;
#X text 273 -439 synch tempo of the mashup to one of the 4 sources
;
#X text -204 -385 5_multiple_inputs_classification;
#N canvas 9 22 1572 580 have-a-look-here 0;
#X obj -233 -188 r~ input1;
#X obj -233 -123 essentiaRT~ 10;
#X obj -320 -94 route list;
#X obj -320 -73 route onset_strength;
#X obj -244 319 list_value;
#X obj -214 2 t b b;
#X obj -244 338 s input_id;
#X obj -286 208 t l l;
#X msg -187 24 0;
#X obj -286 186 list_iot 10000;
#X obj -286 337 s iots;
#X obj -139 -94 route list;
#X obj -139 -73 route pitched.mean loudness.mean;
#X msg -221 -144 delayMode 0;
#X obj -193 -72 timer;
#X obj -193 -94 t b;
#X obj -166 -94 t b;
#X floatatom -185 -49 5 0 0 0 - - -;
#X obj -83 320 list_value;
#X obj 58 279 list_value;
#X obj -83 340 s noisiness;
#X obj 58 299 s loudness;
#X obj -214 -20 pipe;
#X obj -221 -165 loadbang;
#X obj 154 -122 essentiaRT~ 10;
#X obj 67 -93 route list;
#X obj 67 -72 route onset_strength;
#X obj 173 -2 t b b;
#X obj 248 -93 route list;
#X obj 248 -72 route pitched.mean loudness.mean;
#X msg 166 -143 delayMode 0;
#X obj 194 -72 timer;
#X obj 194 -93 t b;
#X obj 221 -93 t b;
#X obj 173 -24 pipe;
#X obj 166 -164 loadbang;
#X msg 200 20 1;
#X obj 537 -123 essentiaRT~ 10;
#X obj 450 -94 route list;
#X obj 450 -73 route onset_strength;
#X obj 556 -3 t b b;
#X obj 631 -94 route list;
#X obj 631 -73 route pitched.mean loudness.mean;
#X msg 549 -144 delayMode 0;
#X obj 577 -73 timer;
#X obj 577 -94 t b;
#X obj 604 -94 t b;
#X obj 556 -25 pipe;
#X obj 549 -165 loadbang;
#X obj 924 -122 essentiaRT~ 10;
#X obj 837 -93 route list;
#X obj 837 -72 route onset_strength;
#X obj 943 -2 t b b;
#X obj 1018 -93 route list;
#X obj 1018 -72 route pitched.mean loudness.mean;
#X msg 936 -143 delayMode 0;
#X obj 964 -72 timer;
#X obj 964 -93 t b;
#X obj 991 -93 t b;
#X obj 943 -24 pipe;
#X obj 936 -164 loadbang;
#X obj 154 -187 r~ input2;
#X obj 537 -188 r~ input3;
#X obj 924 -187 r~ input4;
#X msg 583 19 2;
#X msg 970 20 3;
#X obj 1112 -51 s to_loudness;
#X obj 1018 -52 s to_pitched;
#X obj 115 258 r to_loudness;
#X obj -26 298 r to_pitched;
#X obj 725 -50 s to_loudness;
#X obj 631 -50 s to_pitched;
#X obj 342 -51 s to_loudness;
#X obj 248 -52 s to_pitched;
#X obj -45 -50 s to_loudness;
#X obj -139 -51 s to_pitched;
#X obj -286 163 timegate 500;
#X obj -320 -52 timegate 500;
#X obj 67 -49 timegate 500;
#X obj 450 -50 timegate 500;
#X obj 837 -49 timegate 500;
#X connect 0 0 1 0;
#X connect 1 1 15 0;
#X connect 1 1 2 0;
#X connect 1 2 11 0;
#X connect 1 2 16 0;
#X connect 2 0 3 0;
#X connect 3 0 77 0;
#X connect 4 0 6 0;
#X connect 5 0 76 0;
#X connect 5 1 8 0;
#X connect 7 0 10 0;
#X connect 7 1 4 0;
#X connect 7 1 19 0;
#X connect 7 1 18 0;
#X connect 8 0 4 1;
#X connect 9 0 7 0;
#X connect 11 0 12 0;
#X connect 12 0 75 0;
#X connect 12 1 74 0;
#X connect 13 0 1 0;
#X connect 14 0 17 0;
#X connect 14 0 22 1;
#X connect 15 0 14 0;
#X connect 16 0 14 1;
#X connect 18 0 20 0;
#X connect 19 0 21 0;
#X connect 22 0 5 0;
#X connect 23 0 13 0;
#X connect 24 1 32 0;
#X connect 24 1 25 0;
#X connect 24 2 28 0;
#X connect 24 2 33 0;
#X connect 25 0 26 0;
#X connect 26 0 78 0;
#X connect 27 0 76 0;
#X connect 27 1 36 0;
#X connect 28 0 29 0;
#X connect 29 0 73 0;
#X connect 29 1 72 0;
#X connect 30 0 24 0;
#X connect 31 0 34 1;
#X connect 32 0 31 0;
#X connect 33 0 31 1;
#X connect 34 0 27 0;
#X connect 35 0 30 0;
#X connect 36 0 4 1;
#X connect 37 1 45 0;
#X connect 37 1 38 0;
#X connect 37 2 41 0;
#X connect 37 2 46 0;
#X connect 38 0 39 0;
#X connect 39 0 79 0;
#X connect 40 0 76 0;
#X connect 40 1 64 0;
#X connect 41 0 42 0;
#X connect 42 0 71 0;
#X connect 42 1 70 0;
#X connect 43 0 37 0;
#X connect 44 0 47 1;
#X connect 45 0 44 0;
#X connect 46 0 44 1;
#X connect 47 0 40 0;
#X connect 48 0 43 0;
#X connect 49 1 57 0;
#X connect 49 1 50 0;
#X connect 49 2 53 0;
#X connect 49 2 58 0;
#X connect 50 0 51 0;
#X connect 51 0 80 0;
#X connect 52 0 76 0;
#X connect 52 1 65 0;
#X connect 53 0 54 0;
#X connect 54 0 67 0;
#X connect 54 1 66 0;
#X connect 55 0 49 0;
#X connect 56 0 59 1;
#X connect 57 0 56 0;
#X connect 58 0 56 1;
#X connect 59 0 52 0;
#X connect 60 0 55 0;
#X connect 61 0 24 0;
#X connect 62 0 37 0;
#X connect 63 0 49 0;
#X connect 64 0 4 1;
#X connect 65 0 4 1;
#X connect 68 0 19 1;
#X connect 69 0 18 1;
#X connect 76 0 9 0;
#X connect 77 0 22 0;
#X connect 78 0 34 0;
#X connect 79 0 47 0;
#X connect 80 0 59 0;
#X restore -337 -439 pd have-a-look-here;
#X obj 812 -114 sort -1;
#X obj 833 -159 r loudness;
#X floatatom 1035 -128 5 0 0 0 - - -;
#X text 1075 -128 take the n 'louder' ones;
#X obj 845 67 packel;
#X obj 845 193 repack 5;
#X obj 851 -93 list split 5;
#X obj 881 237 PRINT;
#X obj 779 20 list;
#X obj 851 -27 t b f;
#X obj 812 -138 list;
#X floatatom 867 106 5 0 0 0 - - -;
#X obj 851 -69 drip 0;
#X obj 939 136 PRINT;
#X obj 851 -48 + 1;
#X obj 1057 -30 PRINT;
#X obj 865 303 PRINT;
#X obj 857 270 sort;
#X obj 1071 -76;
#X obj 338 -129 sort -1;
#X obj 392 27 packel;
#X obj 425 3 + 1;
#X obj 392 4 list;
#X obj 359 -175 r noisiness;
#X obj 338 -151 list;
#X obj 559 -195 r input_id;
#X obj 538 -173 list;
#X obj 606 119 repack 2;
#X obj 606 142 PRINT;
#X obj 1273 -251 sort -1;
#X obj 1401 -265 length;
#X floatatom 1399 -234 5 0 0 0 - - -;
#X obj 1312 -230 list split 1;
#X obj 1260 -125 packel;
#X obj 1293 -149 + 1;
#X obj 1260 -148 list;
#X text 1306 -102 source;
#X obj 1263 -182 t b f;
#X obj 1287 -316 r noisiness;
#X obj 1266 -292 list;
#X obj 1347 -99 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 1305 -65 PRINT;
#X obj 1343 -203 PRINT;
#X obj 1288 -20 repack 2;
#X obj 1288 3 PRINT;
#X obj 1263 -208 drip;
#X floatatom 446 57 5 0 0 0 - - -;
#X obj 377 -108 list split 1;
#X obj 225 -231 t b b b b;
#X floatatom 409 -136 5 0 0 0 - - -;
#X obj 377 -85 t f b f;
#X floatatom 484 12 5 0 0 0 - - -;
#X connect 0 0 8 1;
#X connect 5 0 8 0;
#X connect 8 0 7 0;
#X connect 8 0 7 1;
#X connect 8 1 7 1;
#X connect 8 1 7 0;
#X connect 12 0 13 0;
#X connect 13 0 22 0;
#X connect 14 1 15 0;
#X connect 14 1 21 0;
#X connect 15 0 13 1;
#X connect 16 0 14 0;
#X connect 17 0 12 0;
#X connect 17 1 16 1;
#X connect 18 0 37 0;
#X connect 20 0 18 0;
#X connect 21 0 19 0;
#X connect 22 0 26 0;
#X connect 22 0 28 0;
#X connect 22 0 39 0;
#X connect 22 0 40 0;
#X connect 22 1 24 0;
#X connect 24 0 29 0;
#X connect 24 1 30 0;
#X connect 24 2 25 0;
#X connect 24 3 27 0;
#X connect 25 0 23 0;
#X connect 26 0 25 1;
#X connect 27 0 23 0;
#X connect 28 0 27 1;
#X connect 29 0 23 0;
#X connect 30 0 23 0;
#X connect 31 0 36 0;
#X connect 31 1 33 0;
#X connect 34 0 31 0;
#X connect 35 0 34 0;
#X connect 36 0 38 0;
#X connect 37 0 38 0;
#X connect 38 0 41 0;
#X connect 38 0 102 0;
#X connect 39 0 29 1;
#X connect 40 0 30 1;
#X connect 42 0 17 0;
#X connect 43 0 44 0;
#X connect 46 0 38 1;
#X connect 46 0 43 0;
#X connect 50 0 35 0;
#X connect 54 1 60 0;
#X connect 55 0 64 1;
#X connect 56 0 59 1;
#X connect 56 0 60 1;
#X connect 58 0 59 0;
#X connect 59 0 61 0;
#X connect 59 0 71 0;
#X connect 60 0 66 0;
#X connect 60 0 69 0;
#X connect 62 0 58 0;
#X connect 62 0 67 0;
#X connect 63 0 62 0;
#X connect 63 1 58 1;
#X connect 64 0 54 0;
#X connect 66 0 68 0;
#X connect 68 0 63 0;
#X connect 71 1 70 0;
#X connect 73 1 101 0;
#X connect 73 1 103 0;
#X connect 74 0 100 0;
#X connect 74 0 24 0;
#X connect 75 0 74 1;
#X connect 76 0 74 0;
#X connect 77 0 78 1;
#X connect 78 0 73 0;
#X connect 79 0 80 1;
#X connect 80 0 76 1;
#X connect 81 0 82 0;
#X connect 83 1 86 0;
#X connect 85 0 86 1;
#X connect 85 0 97 1;
#X connect 86 0 94 0;
#X connect 86 0 96 0;
#X connect 86 0 99 0;
#X connect 87 0 95 0;
#X connect 87 0 97 0;
#X connect 88 0 87 1;
#X connect 89 0 87 0;
#X connect 91 0 89 0;
#X connect 91 1 88 0;
#X connect 92 0 93 1;
#X connect 93 0 83 0;
#X connect 97 0 98 0;
#X connect 99 0 91 0;
#X connect 101 0 104 0;
#X connect 102 0 12 1;
#X connect 102 1 16 0;
#X connect 102 2 78 0;
#X connect 102 3 80 0;
#X connect 104 0 14 1;
#X connect 104 0 105 0;
#X connect 104 1 76 0;
#X connect 104 2 75 0;
